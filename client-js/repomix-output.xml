This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
components.json
eslint.config.js
index.html
jsconfig.json
package.json
public/_redirects
public/images/bunga.jpg
public/images/Paket-Intimate-Gold.jpg
public/images/Paket-Luxury-Platinum.jpeg
public/images/Paket-Royal-Diamond.jpeg
public/vite.svg
README.md
src/admin/AdminDashboard.jsx
src/App.jsx
src/assets/react.svg
src/button/AlertButton.jsx
src/button/MyButton.jsx
src/button/Toolbar.jsx
src/components/DialogueBox.jsx
src/components/FloatingNavbar.jsx
src/components/Navbar.jsx
src/components/ui/app-sidebar.jsx
src/components/ui/button.jsx
src/components/ui/card.jsx
src/components/ui/dialog.jsx
src/components/ui/input.jsx
src/components/ui/label.jsx
src/components/ui/resizable-navbar.jsx
src/components/ui/separator.jsx
src/components/ui/sheet.jsx
src/components/ui/sidebar.jsx
src/components/ui/skeleton.jsx
src/components/ui/tooltip.jsx
src/container/Container.jsx
src/homepage/menu.jsx
src/hooks/use-mobile.js
src/index.css
src/keranjang/keranjang.jsx
src/lib/utils.js
src/login/login.jsx
src/login/register/Register.jsx
src/main.jsx
src/paket/paket.jsx
src/table/Row.jsx
src/table/Tables.jsx
src/todolist/Todo.jsx
src/todolist/TodoList.jsx
vite.config.js
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": false,
  "tsx": false,
  "tailwind": {
    "config": "",
    "css": "src/index.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="eslint.config.js">
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{js,jsx}'],
    extends: [
      js.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
      parserOptions: {
        ecmaVersion: 'latest',
        ecmaFeatures: { jsx: true },
        sourceType: 'module',
      },
    },
    rules: {
      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],
    },
  },
])
</file>

<file path="index.html">
<!doctype html>
<html lang="en" >
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>client-js</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
</file>

<file path="jsconfig.json">
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
</file>

<file path="package.json">
{
  "name": "client-js",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-slot": "^1.2.4",
    "@radix-ui/react-tooltip": "^1.2.8",
    "@tabler/icons-react": "^3.35.0",
    "@tailwindcss/vite": "^4.1.17",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "lucide-react": "^0.555.0",
    "motion": "^12.23.24",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "react-router-dom": "^7.9.6",
    "tailwind-merge": "^3.4.0",
    "tailwindcss": "^4.0.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react": "^5.1.1",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "tailwindcss-animate": "^1.0.7",
    "vite": "^7.2.4"
  }
}
</file>

<file path="public/_redirects">
/* /index.html  200
</file>

<file path="public/vite.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="31.88" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 257"><defs><linearGradient id="IconifyId1813088fe1fbc01fb466" x1="-.828%" x2="57.636%" y1="7.652%" y2="78.411%"><stop offset="0%" stop-color="#41D1FF"></stop><stop offset="100%" stop-color="#BD34FE"></stop></linearGradient><linearGradient id="IconifyId1813088fe1fbc01fb467" x1="43.376%" x2="50.316%" y1="2.242%" y2="89.03%"><stop offset="0%" stop-color="#FFEA83"></stop><stop offset="8.333%" stop-color="#FFDD35"></stop><stop offset="100%" stop-color="#FFA800"></stop></linearGradient></defs><path fill="url(#IconifyId1813088fe1fbc01fb466)" d="M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z"></path><path fill="url(#IconifyId1813088fe1fbc01fb467)" d="M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z"></path></svg>
</file>

<file path="README.md">
# React + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend using TypeScript with type-aware lint rules enabled. Check out the [TS template](https://github.com/vitejs/vite/tree/main/packages/create-vite/template-react-ts) for information on how to integrate TypeScript and [`typescript-eslint`](https://typescript-eslint.io) in your project.
</file>

<file path="src/admin/AdminDashboard.jsx">
import React, { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import { ShieldCheck, LogOut, Users, DollarSign, CheckCircle, XCircle, Trash2 } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";

export default function AdminDashboard() {
  const navigate = useNavigate();
  const [orders, setOrders] = useState([]);
  const [loading, setLoading] = useState(true);
  const [processingId, setProcessingId] = useState(null);

  // 1. Ambil User Admin dari LocalStorage
  const userString = localStorage.getItem("user");
  const user = userString ? JSON.parse(userString) : null;

  useEffect(() => {
    // Proteksi Halaman
    if (!user) {
      navigate("/login");
      return;
    }
    if (user.role !== "admin") {
      alert("ANDA BUKAN ADMIN!");
      navigate("/");
      return;
    }

    fetchAdminData();
  }, []);

  const fetchAdminData = async () => {
    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api/admin/orders?userId=${user.id}`);
      const result = await res.json();
      if (result.success) {
        setOrders(result.data);
      }
    } catch (err) {
      console.error(err);
    } finally {
      setLoading(false);
    }
  };

  // --- FUNGSI UPDATE STATUS (Terima) ---
  const handleUpdateStatus = async (orderId, newStatus) => {
    if (!confirm(`Yakin ingin mengubah status menjadi ${newStatus}?`)) return;
    setProcessingId(orderId);

    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api/admin/orders/${orderId}/status?userId=${user.id}`, {
        method: "PATCH",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ status: newStatus })
      });

      const result = await res.json();
      if (result.success) {
        setOrders(prevOrders => 
            prevOrders.map(order => 
                order.id === orderId ? { ...order, status: newStatus } : order
            )
        );
      } else {
        alert("Gagal: " + result.message);
      }
    } catch (error) {
      alert("Terjadi kesalahan koneksi.");
    } finally {
      setProcessingId(null);
    }
  };

  const handleLogout = () => {
    localStorage.removeItem("user");
    window.location.href = "/login";
  };

  const fmt = (num) => new Intl.NumberFormat("id-ID", { style: "currency", currency: "IDR" }).format(num);

  if (loading) return <div className="p-10 text-center">Memuat data...</div>;

  // --- FUNGSI DELETE (Tolak & Hapus Permanen) ---
  const handleDeleteOrder = async (orderId) => {
    if (!confirm("Yakin ingin MENOLAK & MENGHAPUS permanen pesanan ini? Data tidak bisa kembali.")) return;
    setProcessingId(orderId);

    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api/admin/orders/${orderId}?userId=${user.id}`, {
        method: "DELETE",
      });

      const result = await res.json();
      if (result.success) {
        setOrders(prevOrders => prevOrders.filter(order => order.id !== orderId));
        alert("Pesanan dihapus permanen.");
      } else {
        alert("Gagal: " + result.message);
      }
    } catch (error) {
      console.error("Error koneksi.", error);
      alert("error detail : " + error.message);
    } finally {
      setProcessingId(null);
    }
  };

  return (
    <div className="min-h-screen bg-slate-100 p-8">
      {/* Header */}
      <div className="max-w-7xl mx-auto flex justify-between items-center mb-8">
        <div>
            <h1 className="text-3xl font-bold text-slate-800 flex items-center gap-2">
                <ShieldCheck className="w-8 h-8 text-blue-600" /> 
                Admin Dashboard
            </h1>
            <p className="text-slate-500">Halo, {user?.name}. Pantau pesanan kamu di sini.</p>
        </div>
        <Button variant="destructive" onClick={handleLogout}>
            <LogOut className="w-4 h-4 mr-2" /> Logout
        </Button>
      </div>

      {/* Statistik (3 KOTAK) */}
      <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <Card>
            <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
                <CardTitle className="text-sm font-medium">Total Pesanan</CardTitle>
                <Users className="h-4 w-4 text-muted-foreground" />
            </CardHeader>
            <CardContent><div className="text-2xl font-bold">{orders.length}</div></CardContent>
        </Card>
        <Card>
            <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
                <CardTitle className="text-sm font-medium">Omzet (Lunas)</CardTitle>
                <DollarSign className="h-4 w-4 text-muted-foreground" />
            </CardHeader>
            <CardContent>
                <div className="text-2xl font-bold text-green-600">
                    {/* Hanya hitung yang statusnya 'paid' */}
                    {fmt(orders.filter(o => o.status === 'paid').reduce((acc, curr) => acc + curr.totalPrice, 0))}
                </div>
            </CardContent>
        </Card>
        <Card>
            <CardHeader className="flex flex-row items-center justify-between space-y-0 pb-2">
                <CardTitle className="text-sm font-medium">Perlu Konfirmasi</CardTitle>
                <CheckCircle className="h-4 w-4 text-muted-foreground" />
            </CardHeader>
            <CardContent>
                <div className="text-2xl font-bold text-yellow-600">
                    {orders.filter(o => o.status === 'pending').length}
                </div>
            </CardContent>
        </Card>
      </div>

      {/* Tabel Data Pesanan */}
      <div className="max-w-7xl mx-auto bg-white rounded-xl shadow-sm overflow-hidden border border-slate-200">
        <table className="w-full text-left border-collapse">
            <thead className="bg-slate-50 text-slate-700 uppercase text-xs font-bold tracking-wider">
                <tr>
                    <th className="p-4 border-b">ID</th>
                    <th className="p-4 border-b">Pelanggan</th>
                    <th className="p-4 border-b">Paket</th>
                    <th className="p-4 border-b">Total</th>
                    <th className="p-4 border-b text-center">Status</th>
                    <th className="p-4 border-b text-center">Aksi</th>
                </tr>
            </thead>
            <tbody className="divide-y divide-slate-100">
                {orders.map((order) => (
                    <tr key={order.id} className="hover:bg-slate-50 transition-colors">
                        <td className="p-4 font-mono text-sm text-slate-500">#{order.id}</td>
                        <td className="p-4 font-semibold text-slate-800">
                            {order.user.name}
                            <div className="text-xs text-slate-400 font-normal">{order.user.email}</div>
                        </td>
                        <td className="p-4 text-sm">
                            {order.items.map((item, idx) => (
                                <div key={idx} className="flex flex-col gap-1">
                                    <span className="font-medium text-primary">{item.package.name}</span>
                                    {item.extras && item.extras.length > 5 && (
                                        <span className="text-xs text-slate-500 italic">
                                            + {JSON.parse(item.extras).detail?.length || 0} Tambahan
                                        </span>
                                    )}
                                </div>
                            ))}
                        </td>
                        <td className="p-4 font-bold text-slate-700">{fmt(order.totalPrice)}</td>
                        
                        {/* Kolom Status */}
                        <td className="p-4 text-center">
                            <span className={`px-3 py-1 rounded-full text-xs font-bold uppercase ${
                                order.status.toLowerCase() === 'paid' ? 'bg-green-100 text-green-700' :
                                order.status.toLowerCase() === 'cancelled' ? 'bg-red-100 text-red-700' :
                                'bg-yellow-100 text-yellow-700'
                            }`}>
                                {order.status.toLowerCase() === 'paid' ? 'Terkonfirmasi' : 
                                 order.status.toLowerCase() === 'cancelled' ? 'Batal' : 'Pending'}
                            </span>
                        </td>

                        {/* Kolom Aksi */}
                        <td className="p-4 text-center">
                            <div className="flex justify-center gap-2">
                                
                                {/* Tombol TERIMA: Hanya muncul jika status PENDING */}
                                {order.status.toLowerCase() === 'pending' && (
                                    <Button 
                                        size="sm" 
                                        className="bg-green-600 hover:bg-green-700 h-8 text-xs"
                                        onClick={() => handleUpdateStatus(order.id, 'paid')}
                                        disabled={processingId === order.id}
                                    >
                                        <CheckCircle className="w-3 h-3 mr-1" /> Terima
                                    </Button>
                                )}

                                {/* Tombol TOLAK: Muncul jika PENDING atau SUDAH TERKONFIRMASI (paid) */}
                                {(order.status.toLowerCase() === 'pending' || order.status.toLowerCase() === 'paid') && (
                                    <Button 
                                        size="sm" 
                                        variant="destructive"
                                        className="h-8 text-xs"
                                        onClick={() => handleDeleteOrder(order.id)}
                                        disabled={processingId === order.id}
                                        title="Hapus / Batalkan Pesanan"
                                    >
                                        <XCircle className="w-3 h-3 mr-1" /> Tolak
                                    </Button>
                                )}

                                {/* Tombol HAPUS: Muncul jika status BATAL (Clean up) */}
                                {order.status.toLowerCase() === 'cancelled' && (
                                    <Button 
                                        size="sm" 
                                        variant="outline"
                                        className="h-8 text-xs border-red-200 text-red-600 hover:bg-red-50"
                                        onClick={() => handleDeleteOrder(order.id)}
                                        disabled={processingId === order.id}
                                    >
                                        <Trash2 className="w-3 h-3 mr-1" /> Hapus
                                    </Button>
                                )}
                            </div>
                        </td>
                    </tr>
                ))}
            </tbody>
        </table>
        {orders.length === 0 && (
            <div className="p-10 text-center text-slate-500">Belum ada pesanan masuk.</div>
        )}
      </div>
    </div>
  );
}
</file>

<file path="src/App.jsx">
import { BrowserRouter, Routes, Route, useLocation } from "react-router-dom";
import Home from "./homepage/menu.jsx"; 
import Paket from "./paket/paket.jsx";
import FloatingNavbar from "@/components/FloatingNavbar";
import Keranjang from "./keranjang/keranjang.jsx";
import Login from "./login/login.jsx";
import Register from "./login/register/Register.jsx";
import AdminDashboard from "./admin/AdminDashboard.jsx"; 

function MainLayout() {
  const location = useLocation();
  const isAdminPage = location.pathname.startsWith("/admin");

  return (
    <>
      {!isAdminPage && <FloatingNavbar />}

      <main className="w-full min-h-screen bg-background text-foreground">
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/paket" element={<Paket />} />
          <Route path="/keranjang" element={<Keranjang/>} />
          <Route path="/login" element={<Login/>} />
          <Route path="/register" element={<Register/>} />
          <Route path="/admin" element={<AdminDashboard/>} />
        </Routes>
      </main>
    </>
  );
}

export default function App() {
  return (
    <BrowserRouter>
      <MainLayout />
    </BrowserRouter>
  );
}
</file>

<file path="src/assets/react.svg">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--logos" width="35.93" height="32" preserveAspectRatio="xMidYMid meet" viewBox="0 0 256 228"><path fill="#00D8FF" d="M210.483 73.824a171.49 171.49 0 0 0-8.24-2.597c.465-1.9.893-3.777 1.273-5.621c6.238-30.281 2.16-54.676-11.769-62.708c-13.355-7.7-35.196.329-57.254 19.526a171.23 171.23 0 0 0-6.375 5.848a155.866 155.866 0 0 0-4.241-3.917C100.759 3.829 77.587-4.822 63.673 3.233C50.33 10.957 46.379 33.89 51.995 62.588a170.974 170.974 0 0 0 1.892 8.48c-3.28.932-6.445 1.924-9.474 2.98C17.309 83.498 0 98.307 0 113.668c0 15.865 18.582 31.778 46.812 41.427a145.52 145.52 0 0 0 6.921 2.165a167.467 167.467 0 0 0-2.01 9.138c-5.354 28.2-1.173 50.591 12.134 58.266c13.744 7.926 36.812-.22 59.273-19.855a145.567 145.567 0 0 0 5.342-4.923a168.064 168.064 0 0 0 6.92 6.314c21.758 18.722 43.246 26.282 56.54 18.586c13.731-7.949 18.194-32.003 12.4-61.268a145.016 145.016 0 0 0-1.535-6.842c1.62-.48 3.21-.974 4.76-1.488c29.348-9.723 48.443-25.443 48.443-41.52c0-15.417-17.868-30.326-45.517-39.844Zm-6.365 70.984c-1.4.463-2.836.91-4.3 1.345c-3.24-10.257-7.612-21.163-12.963-32.432c5.106-11 9.31-21.767 12.459-31.957c2.619.758 5.16 1.557 7.61 2.4c23.69 8.156 38.14 20.213 38.14 29.504c0 9.896-15.606 22.743-40.946 31.14Zm-10.514 20.834c2.562 12.94 2.927 24.64 1.23 33.787c-1.524 8.219-4.59 13.698-8.382 15.893c-8.067 4.67-25.32-1.4-43.927-17.412a156.726 156.726 0 0 1-6.437-5.87c7.214-7.889 14.423-17.06 21.459-27.246c12.376-1.098 24.068-2.894 34.671-5.345a134.17 134.17 0 0 1 1.386 6.193ZM87.276 214.515c-7.882 2.783-14.16 2.863-17.955.675c-8.075-4.657-11.432-22.636-6.853-46.752a156.923 156.923 0 0 1 1.869-8.499c10.486 2.32 22.093 3.988 34.498 4.994c7.084 9.967 14.501 19.128 21.976 27.15a134.668 134.668 0 0 1-4.877 4.492c-9.933 8.682-19.886 14.842-28.658 17.94ZM50.35 144.747c-12.483-4.267-22.792-9.812-29.858-15.863c-6.35-5.437-9.555-10.836-9.555-15.216c0-9.322 13.897-21.212 37.076-29.293c2.813-.98 5.757-1.905 8.812-2.773c3.204 10.42 7.406 21.315 12.477 32.332c-5.137 11.18-9.399 22.249-12.634 32.792a134.718 134.718 0 0 1-6.318-1.979Zm12.378-84.26c-4.811-24.587-1.616-43.134 6.425-47.789c8.564-4.958 27.502 2.111 47.463 19.835a144.318 144.318 0 0 1 3.841 3.545c-7.438 7.987-14.787 17.08-21.808 26.988c-12.04 1.116-23.565 2.908-34.161 5.309a160.342 160.342 0 0 1-1.76-7.887Zm110.427 27.268a347.8 347.8 0 0 0-7.785-12.803c8.168 1.033 15.994 2.404 23.343 4.08c-2.206 7.072-4.956 14.465-8.193 22.045a381.151 381.151 0 0 0-7.365-13.322Zm-45.032-43.861c5.044 5.465 10.096 11.566 15.065 18.186a322.04 322.04 0 0 0-30.257-.006c4.974-6.559 10.069-12.652 15.192-18.18ZM82.802 87.83a323.167 323.167 0 0 0-7.227 13.238c-3.184-7.553-5.909-14.98-8.134-22.152c7.304-1.634 15.093-2.97 23.209-3.984a321.524 321.524 0 0 0-7.848 12.897Zm8.081 65.352c-8.385-.936-16.291-2.203-23.593-3.793c2.26-7.3 5.045-14.885 8.298-22.6a321.187 321.187 0 0 0 7.257 13.246c2.594 4.48 5.28 8.868 8.038 13.147Zm37.542 31.03c-5.184-5.592-10.354-11.779-15.403-18.433c4.902.192 9.899.29 14.978.29c5.218 0 10.376-.117 15.453-.343c-4.985 6.774-10.018 12.97-15.028 18.486Zm52.198-57.817c3.422 7.8 6.306 15.345 8.596 22.52c-7.422 1.694-15.436 3.058-23.88 4.071a382.417 382.417 0 0 0 7.859-13.026a347.403 347.403 0 0 0 7.425-13.565Zm-16.898 8.101a358.557 358.557 0 0 1-12.281 19.815a329.4 329.4 0 0 1-23.444.823c-7.967 0-15.716-.248-23.178-.732a310.202 310.202 0 0 1-12.513-19.846h.001a307.41 307.41 0 0 1-10.923-20.627a310.278 310.278 0 0 1 10.89-20.637l-.001.001a307.318 307.318 0 0 1 12.413-19.761c7.613-.576 15.42-.876 23.31-.876H128c7.926 0 15.743.303 23.354.883a329.357 329.357 0 0 1 12.335 19.695a358.489 358.489 0 0 1 11.036 20.54a329.472 329.472 0 0 1-11 20.722Zm22.56-122.124c8.572 4.944 11.906 24.881 6.52 51.026c-.344 1.668-.73 3.367-1.15 5.09c-10.622-2.452-22.155-4.275-34.23-5.408c-7.034-10.017-14.323-19.124-21.64-27.008a160.789 160.789 0 0 1 5.888-5.4c18.9-16.447 36.564-22.941 44.612-18.3ZM128 90.808c12.625 0 22.86 10.235 22.86 22.86s-10.235 22.86-22.86 22.86s-22.86-10.235-22.86-22.86s10.235-22.86 22.86-22.86Z"></path></svg>
</file>

<file path="src/button/AlertButton.jsx">
export default function AlertButton({text, message}) {
    function handleClick(){
        alert(message);
    }
    
    return (
        <button onClick={handleClick}>{text}</button>
    )
}
</file>

<file path="src/button/MyButton.jsx">
export default function MyButton({text, onSmash}) {
    return (
        <button onClick={onSmash}>{text}</button>
    )
}
</file>

<file path="src/button/Toolbar.jsx">
export default function Toolbar(){
    return (
        <div onClick={onClick}>
            <button onClick={onClick}>First</button>
            <button onClick={onClick}>Second</button>
        </div>
    )
}
</file>

<file path="src/components/DialogueBox.jsx">
import { Card } from "@/components/ui/card";

export default function DialogueBox({ character }) {
  // Jika data kosong, jangan tampilkan apa-apa
  if (!character) return null;

  return (
    <Card className="max-w-2xl mx-auto mt-4 overflow-hidden border-2 border-primary bg-card text-card-foreground">
      <div className="flex flex-row h-32 md:h-40">
        
        {/* BAGIAN GAMBAR (PORTRAIT) */}
        <div className="shrink-0 w-32 md:w-40 bg-accent/20 border-r-2 border-primary flex items-center justify-center p-2">
            <img 
                src={character.portrait} 
                alt={character.name} 
                className="w-full h-full object-contain pixelated" 
                // pixelated agar gambar pixel art tetap tajam
                style={{ imageRendering: "pixelated" }} 
            />
        </div>

        {/* BAGIAN TEKS */}
        <div className="flex flex-col flex-1 p-4 md:p-6 justify-start relative">
            
            {/* Nama Karakter */}
            <h3 className="font-bold text-lg text-primary uppercase tracking-widest mb-1">
                {character.name}
            </h3>

            {/* Isi Dialog */}
            <p className="text-base md:text-lg leading-relaxed font-mono">
                "{character.text}"
            </p>

            {/* Segitiga kecil (indikator next) - Hiasan */}
            <div className="absolute bottom-4 right-4 w-3 h-3 bg-primary animate-bounce rounded-full"></div>
        </div>
      </div>
    </Card>
  );
}
</file>

<file path="src/components/FloatingNavbar.jsx">
"use client";
import React, { useState, useRef } from "react";
import { Link, useLocation } from "react-router-dom";
import { motion, useScroll, useMotionValueEvent, AnimatePresence } from "motion/react";
import { cn } from "@/lib/utils";
// 1. Tambahkan import icon LogIn
import { HeartHandshake, Menu, X, ShoppingBag, LogIn } from "lucide-react";
import { Button } from "@/components/ui/button";

export default function FloatingNavbar() {
  const [isOpen, setIsOpen] = useState(false);
  const ref = useRef(null);
  const { scrollY } = useScroll();
  const [visible, setVisible] = useState(true);
  const location = useLocation();

  const isActive = (path) => location.pathname === path;

  useMotionValueEvent(scrollY, "change", (latest) => {
    const previous = scrollY.getPrevious();
    if (latest > previous && latest > 100) {
      setVisible(false);
    } else {
      setVisible(true);
    }
  });

  const navLinks = [
    { name: "Home", link: "/" },
    { name: "Paket", link: "/paket" },
    { 
      name: <ShoppingBag className="w-5 h-5" />, 
      link: "/keranjang" 
    }
  ];

  return (
    <>
      <motion.nav
        initial={{ y: -100 }}
        animate={{ y: visible ? 0 : -100 }}
        transition={{ duration: 0.3 }}
        className="fixed top-0 inset-x-0 z-50 px-4 py-4 w-full flex justify-center pointer-events-none"
      >
        <div className="pointer-events-auto relative w-full max-w-3xl flex items-center justify-between rounded-full border border-primary/20 bg-card/90 px-6 py-2.5 shadow-xl backdrop-blur-md">
          
          {/* === KIRI: LOGO === */}
          <Link to="/" className="flex items-center gap-2 group">
            <div className="p-1.5 bg-primary/10 rounded-full group-hover:bg-primary/20 transition-colors">
              <HeartHandshake className="h-5 w-5 text-primary" />
            </div>
            <span className="font-serif font-bold text-lg text-foreground tracking-tight">
              John<span className="text-primary">Wedding</span>
            </span>
          </Link>

          {/* === TENGAH: MENU (Home, Paket, Keranjang) === */}
          <div className="hidden md:flex items-center gap-6">
            {navLinks.map((item, idx) => (
              <Link
                key={idx}
                to={item.link}
                className={cn(
                  "text-sm font-medium transition-colors hover:text-primary font-serif tracking-wide flex items-center",
                  item.link === "/keranjang" 
                    ? "p-2 rounded-full hover:bg-primary/10 text-foreground"
                    : isActive(item.link) ? "text-primary font-bold" : "text-foreground/80"
                )}
                title={item.link === "/keranjang" ? "Lihat Keranjang" : item.name}
              >
                {item.name}
              </Link>
            ))}
          </div>

          {/* === KANAN: TOMBOL LOGIN & HAMBURGER === */}
          <div className="flex items-center gap-2">
            
            {/* 2. TOMBOL LOGIN (Desktop Only) */}
            <Link to="/login" className="hidden md:block">
                <Button 
                    size="sm" 
                    className="rounded-full font-bold shadow-md bg-primary text-primary-foreground hover:bg-primary/90 flex items-center gap-2 px-5"
                >
                    <LogIn className="w-4 h-4" /> {/* Logo */}
                    <span>Login</span> {/* Teks */}
                </Button>
            </Link>

            {/* 3. HAMBURGER (Mobile Only) */}
            <button 
                className="md:hidden p-2 text-foreground hover:text-primary"
                onClick={() => setIsOpen(!isOpen)}
            >
                {isOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
            </button>
          </div>

        </div>
      </motion.nav>

      {/* MENU MOBILE (Dropdown) */}
      <AnimatePresence>
        {isOpen && (
          <motion.div
            initial={{ opacity: 0, y: -20 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -20 }}
            className="fixed top-20 inset-x-4 z-40 md:hidden pointer-events-auto"
          >
            <div className="bg-card border border-primary/20 rounded-2xl shadow-2xl p-4 flex flex-col gap-2">
              {navLinks.map((item, idx) => (
                <Link
                  key={idx}
                  to={item.link}
                  onClick={() => setIsOpen(false)}
                  className={cn(
                    "px-4 py-3 rounded-xl text-center font-serif text-lg font-medium transition-colors hover:bg-muted text-foreground flex justify-center items-center gap-2",
                    isActive(item.link) ? "bg-primary/10 text-primary" : ""
                  )}
                >
                  {item.link === "/keranjang" ? (
                    <>
                      <ShoppingBag className="w-5 h-5" />
                      <span>Keranjang</span>
                    </>
                  ) : (
                    item.name
                  )}
                </Link>
              ))}
              
              <div className="h-px bg-border/50 my-1" />
              
              {/* TOMBOL LOGIN (Mobile Version) */}
              <Link to="/login" onClick={() => setIsOpen(false)}>
                  <Button className="w-full rounded-xl font-bold text-md py-6 bg-primary text-primary-foreground hover:bg-primary/90 flex items-center justify-center gap-2">
                    <LogIn className="w-5 h-5" />
                    Login Member
                  </Button>
              </Link>
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </>
  );
}
</file>

<file path="src/components/Navbar.jsx">
"use client";
import React, { useState } from "react";
import { Link, useLocation } from "react-router-dom";
import { motion, AnimatePresence } from "motion/react";
import { cn } from "@/lib/utils";
import { HeartHandshake, Menu, X, ShoppingBag } from "lucide-react";
import { Button } from "@/components/ui/button";

export default function Navbar() {
  const [isOpen, setIsOpen] = useState(false);
  const location = useLocation();

  const navLinks = [
    { name: "Home", link: "/" },
    { name: "Paket", link: "/paket" },
    { name: "Hubungi", link: "#" },
  ];

  const isActive = (path) => location.pathname === path;

  return (
    <>
      {/* NAVBAR UTAMA (Fixed Top) */}
      <nav className="fixed top-0 inset-x-0 z-50 px-4 py-4 w-full">
        <div className="relative mx-auto max-w-2xl flex items-center justify-between rounded-full border border-primary/20 bg-card/90 px-5 py-2.5 shadow-xl backdrop-blur-md">
          
          {/* 1. LOGO */}
          <Link to="/" className="flex items-center gap-2 group">
            <div className="p-1.5 bg-primary/10 rounded-full group-hover:bg-primary/20 transition-colors">
              <HeartHandshake className="h-5 w-5 text-primary" />
            </div>
            <span className="font-serif font-bold text-lg text-foreground tracking-tight">
              John<span className="text-primary">Wedding</span>
            </span>
          </Link>

          {/* 2. MENU DESKTOP (Hidden di HP) */}
          <div className="hidden md:flex items-center gap-6">
            {navLinks.map((item, idx) => (
              <Link
                key={idx}
                to={item.link}
                className={cn(
                  "text-sm font-medium transition-colors hover:text-primary font-serif tracking-wide",
                  isActive(item.link) ? "text-primary font-bold" : "text-foreground/80"
                )}
              >
                {item.name}
              </Link>
            ))}
          </div>

          {/* 3. TOMBOL KERANJANG (Desktop) */}
          <div className="hidden md:block">
            <Button size="sm" className="rounded-full font-bold shadow-md bg-primary text-primary-foreground hover:bg-primary/90">
              Keranjang
            </Button>
          </div>

          {/* 4. TOMBOL HAMBURGER (Muncul Cuma di HP) */}
          <button 
            className="md:hidden p-2 text-foreground hover:text-primary"
            onClick={() => setIsOpen(!isOpen)}
          >
            {isOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}
          </button>

        </div>
      </nav>

      {/* MENU MOBILE (Slide Down) */}
      <AnimatePresence>
        {isOpen && (
          <motion.div
            initial={{ opacity: 0, y: -20 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -20 }}
            className="fixed top-20 inset-x-4 z-40 md:hidden"
          >
            <div className="bg-card border border-primary/20 rounded-2xl shadow-2xl p-4 flex flex-col gap-2">
              {navLinks.map((item, idx) => (
                <Link
                  key={idx}
                  to={item.link}
                  onClick={() => setIsOpen(false)}
                  className={cn(
                    "px-4 py-3 rounded-xl text-center font-serif text-lg font-medium transition-colors",
                    isActive(item.link) 
                      ? "bg-primary/10 text-primary" 
                      : "text-foreground hover:bg-muted"
                  )}
                >
                  {item.name}
                </Link>
              ))}
              <div className="h-px bg-border/50 my-1" />
              <Button className="w-full rounded-xl font-bold text-md py-6">
                <ShoppingBag className="w-5 h-5 mr-2" />
                Lihat Keranjang
              </Button>
            </div>
          </motion.div>
        )}
      </AnimatePresence>
    </>
  );
}
</file>

<file path="src/components/ui/app-sidebar.jsx">
import { CalendarHeart, Calendar, Home, Inbox, Search, Settings, ShoppingBasket } from "lucide-react"
import { Link } from "react-router-dom"
import {
  Sidebar,
  SidebarContent,
  SidebarGroup,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar"

const items = [
  { 
    title: "Apa itu John Wedding?", 
    url: "/", 
    icon: Home 
  },
  {
    title: "Menu Paket Wedding",
    url: "/paket",
    icon: CalendarHeart,
  },
    {
    title: "Keranjang Pesanan",
    url: "/keranjang",
    icon: ShoppingBasket
  }
]

export function AppSidebar() {
  return (
    <Sidebar>
      <SidebarContent>
        <SidebarGroup>
          <SidebarGroupLabel>Aplikasi Saya</SidebarGroupLabel>
          <SidebarGroupContent>
            <SidebarMenu>
              {items.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton asChild>
                    <Link to={item.url}>
                      <item.icon />
                      <span>{item.title}</span>
                    </Link>
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>
      </SidebarContent>
    </Sidebar>
  )
}
</file>

<file path="src/components/ui/button.jsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva } from "class-variance-authority";

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",
        outline:
          "border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost:
          "hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2 has-[>svg]:px-3",
        sm: "h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",
        lg: "h-10 rounded-md px-6 has-[>svg]:px-4",
        icon: "size-9",
        "icon-sm": "size-8",
        "icon-lg": "size-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props} />
  );
}

export { Button, buttonVariants }
</file>

<file path="src/components/ui/card.jsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Card({
  className,
  ...props
}) {
  return (
    <div
      data-slot="card"
      className={cn(
        "bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",
        className
      )}
      {...props} />
  );
}

function CardHeader({
  className,
  ...props
}) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        "@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",
        className
      )}
      {...props} />
  );
}

function CardTitle({
  className,
  ...props
}) {
  return (
    <div
      data-slot="card-title"
      className={cn("leading-none font-semibold", className)}
      {...props} />
  );
}

function CardDescription({
  className,
  ...props
}) {
  return (
    <div
      data-slot="card-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props} />
  );
}

function CardAction({
  className,
  ...props
}) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        "col-start-2 row-span-2 row-start-1 self-start justify-self-end",
        className
      )}
      {...props} />
  );
}

function CardContent({
  className,
  ...props
}) {
  return (<div data-slot="card-content" className={cn("px-6", className)} {...props} />);
}

function CardFooter({
  className,
  ...props
}) {
  return (
    <div
      data-slot="card-footer"
      className={cn("flex items-center px-6 [.border-t]:pt-6", className)}
      {...props} />
  );
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}
</file>

<file path="src/components/ui/dialog.jsx">
import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Dialog({
  ...props
}) {
  return <DialogPrimitive.Root data-slot="dialog" {...props} />;
}

function DialogTrigger({
  ...props
}) {
  return <DialogPrimitive.Trigger data-slot="dialog-trigger" {...props} />;
}

function DialogPortal({
  ...props
}) {
  return <DialogPrimitive.Portal data-slot="dialog-portal" {...props} />;
}

function DialogClose({
  ...props
}) {
  return <DialogPrimitive.Close data-slot="dialog-close" {...props} />;
}

function DialogOverlay({
  className,
  ...props
}) {
  return (
    <DialogPrimitive.Overlay
      data-slot="dialog-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props} />
  );
}

function DialogContent({
  className,
  children,
  showCloseButton = true,
  ...props
}) {
  return (
    <DialogPortal data-slot="dialog-portal">
      <DialogOverlay />
      <DialogPrimitive.Content
        data-slot="dialog-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",
          className
        )}
        {...props}>
        {children}
        {showCloseButton && (
          <DialogPrimitive.Close
            data-slot="dialog-close"
            className="ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4">
            <XIcon />
            <span className="sr-only">Close</span>
          </DialogPrimitive.Close>
        )}
      </DialogPrimitive.Content>
    </DialogPortal>
  );
}

function DialogHeader({
  className,
  ...props
}) {
  return (
    <div
      data-slot="dialog-header"
      className={cn("flex flex-col gap-2 text-center sm:text-left", className)}
      {...props} />
  );
}

function DialogFooter({
  className,
  ...props
}) {
  return (
    <div
      data-slot="dialog-footer"
      className={cn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end", className)}
      {...props} />
  );
}

function DialogTitle({
  className,
  ...props
}) {
  return (
    <DialogPrimitive.Title
      data-slot="dialog-title"
      className={cn("text-lg leading-none font-semibold", className)}
      {...props} />
  );
}

function DialogDescription({
  className,
  ...props
}) {
  return (
    <DialogPrimitive.Description
      data-slot="dialog-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props} />
  );
}

export {
  Dialog,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogOverlay,
  DialogPortal,
  DialogTitle,
  DialogTrigger,
}
</file>

<file path="src/components/ui/input.jsx">
import * as React from "react"

import { cn } from "@/lib/utils"

function Input({
  className,
  type,
  ...props
}) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        "file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
        "focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",
        "aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
        className
      )}
      {...props} />
  );
}

export { Input }
</file>

<file path="src/components/ui/label.jsx">
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"

import { cn } from "@/lib/utils"

function Label({
  className,
  ...props
}) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        "flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",
        className
      )}
      {...props} />
  );
}

export { Label }
</file>

<file path="src/components/ui/resizable-navbar.jsx">
"use client";
import { cn } from "@/lib/utils";
import { IconMenu2, IconX } from "@tabler/icons-react";
import { HeartHandshake } from "lucide-react"; // Icon Logo
import {
  motion,
  AnimatePresence,
  useScroll,
  useMotionValueEvent,
} from "motion/react";

import React, { useRef, useState } from "react";

export const Navbar = ({
  children,
  className
}) => {
  const ref = useRef(null);
  const { scrollY } = useScroll({
    target: ref,
    offset: ["start start", "end start"],
  });
  const [visible, setVisible] = useState(false);

  useMotionValueEvent(scrollY, "change", (latest) => {
    if (latest > 100) {
      setVisible(true);
    } else {
      setVisible(false);
    }
  });

  return (
    <motion.div
      ref={ref}
      className={cn("fixed inset-x-0 top-6 z-50 w-full px-4", className)}>
      {React.Children.map(children, (child) =>
        React.isValidElement(child)
          ? React.cloneElement(child, { visible })
          : child)}
    </motion.div>
  );
};

export const NavBody = ({
  children,
  className,
  visible
}) => {
  return (
    <motion.div
      animate={{
        // Ganti warna background saat scroll menjadi 'card' (coklat sedikit terang)
        backgroundColor: visible ? "hsl(var(--card))" : "transparent",
        backdropFilter: visible ? "blur(10px)" : "none",
        // Border muncul saat scroll
        border: visible ? "1px solid hsl(var(--border))" : "1px solid transparent",
        width: visible ? "60%" : "100%", // Lebar mengecil saat scroll
        y: visible ? 0 : 0,
      }}
      transition={{
        type: "spring",
        stiffness: 200,
        damping: 50,
      }}
      style={{
        minWidth: "300px", // Mencegah terlalu kecil di layar sempit
      }}
      className={cn(
        "relative  z-60 mx-auto hidden flex-row items-center justify-between self-start rounded-full px-6 py-3 lg:flex",
        className
      )}>
      {children}
    </motion.div>
  );
};

export const NavItems = ({
  items,
  className,
  onItemClick
}) => {
  const [hovered, setHovered] = useState(null);

  return (
    <motion.div
      onMouseLeave={() => setHovered(null)}
      className={cn(
        "absolute inset-0 hidden flex-1 flex-row items-center justify-center space-x-2 text-sm font-medium transition duration-200 lg:flex lg:space-x-4",
        className
      )}>
      {items.map((item, idx) => (
        <a
          onMouseEnter={() => setHovered(idx)}
          onClick={onItemClick}
          className={cn(
            "relative px-4 py-2 transition-colors",
            // Warna teks default (krem) dan hover (emas)
            "text-foreground/80 hover:text-primary font-serif tracking-wide"
          )}
          key={`link-${idx}`}
          href={item.link}>
          {hovered === idx && (
            <motion.div
              layoutId="hovered"
              // Warna background saat hover (coklat tua transparan)
              className="absolute inset-0 h-full w-full rounded-full bg-primary/10" 
            />
          )}
          <span className="relative z-20">{item.name}</span>
        </a>
      ))}
    </motion.div>
  );
};

export const MobileNav = ({
  children,
  className,
  visible
}) => {
  return (
    <motion.div
      animate={{
        backgroundColor: visible ? "hsl(var(--card))" : "transparent",
        backdropFilter: visible ? "blur(10px)" : "none",
        border: visible ? "1px solid hsl(var(--border))" : "1px solid transparent",
        width: visible ? "95%" : "100%",
        padding: visible ? "12px 20px" : "12px 0px",
        borderRadius: visible ? "2rem" : "0rem",
      }}
      transition={{
        type: "spring",
        stiffness: 200,
        damping: 50,
      }}
      className={cn(
        "relative z-50 mx-auto flex w-full max-w-[calc(100vw-2rem)] flex-col items-center justify-between bg-transparent lg:hidden",
        className
      )}>
      {children}
    </motion.div>
  );
};

export const MobileNavHeader = ({
  children,
  className
}) => {
  return (
    <div
      className={cn("flex w-full flex-row items-center justify-between", className)}>
      {children}
    </div>
  );
};

export const MobileNavMenu = ({
  children,
  className,
  isOpen,
  onClose
}) => {
  return (
    <AnimatePresence>
      {isOpen && (
        <motion.div
          initial={{ opacity: 0, y: -20 }}
          animate={{ opacity: 1, y: 0 }}
          exit={{ opacity: 0, y: -20 }}
          className={cn(
            // Dropdown menu mobile: Background Card & Border
            "absolute inset-x-0 top-16 z-50 flex w-full flex-col items-start justify-start gap-4 rounded-2xl bg-card border border-border px-6 py-8 shadow-xl",
            className
          )}>
          {children}
        </motion.div>
      )}
    </AnimatePresence>
  );
};

export const MobileNavToggle = ({
  isOpen,
  onClick
}) => {
  return isOpen ? (
    <IconX className="text-foreground hover:text-primary transition-colors" onClick={onClick} />
  ) : (
    <IconMenu2 className="text-foreground hover:text-primary transition-colors" onClick={onClick} />
  );
};

export const NavbarLogo = () => {
  return (
    <a
      href="/"
      className="relative z-20 mr-4 flex items-center space-x-2 px-2 py-1 text-sm font-normal">
      
      {/* Icon Wedding / Cincin */}
      <HeartHandshake className="h-6 w-6 text-primary" />
      
      <span className="font-serif font-bold text-lg text-foreground tracking-wider">
        John<span className="text-primary">Wedding</span>
      </span>
    </a>
  );
};

export const NavbarButton = ({
  href,
  as: Tag = "a",
  children,
  className,
  variant = "primary",
  ...props
}) => {
  const baseStyles =
    "px-6 py-2 rounded-full text-sm font-bold relative cursor-pointer hover:-translate-y-0.5 transition duration-200 inline-block text-center";

  const variantStyles = {
    primary:
      // Tombol Primary: Emas, Teks Coklat Gelap
      "bg-primary text-primary-foreground hover:bg-primary/90 shadow-md",
    secondary: 
      // Tombol Secondary: Transparan, Teks Krem, Border Tipis
      "bg-transparent text-foreground border border-border hover:bg-accent/50",
    dark: 
      "bg-secondary text-secondary-foreground shadow-md",
  };

  return (
    <Tag
      href={href || undefined}
      className={cn(baseStyles, variantStyles[variant], className)}
      {...props}
    >
      {children}
    </Tag>
  );
};
</file>

<file path="src/components/ui/separator.jsx">
import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

function Separator({
  className,
  orientation = "horizontal",
  decorative = true,
  ...props
}) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",
        className
      )}
      {...props} />
  );
}

export { Separator }
</file>

<file path="src/components/ui/sheet.jsx">
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { XIcon } from "lucide-react"

import { cn } from "@/lib/utils"

function Sheet({
  ...props
}) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />;
}

function SheetTrigger({
  ...props
}) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />;
}

function SheetClose({
  ...props
}) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />;
}

function SheetPortal({
  ...props
}) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />;
}

function SheetOverlay({
  className,
  ...props
}) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",
        className
      )}
      {...props} />
  );
}

function SheetContent({
  className,
  children,
  side = "right",
  ...props
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          "bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
          side === "right" &&
            "data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",
          side === "left" &&
            "data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",
          side === "top" &&
            "data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",
          side === "bottom" &&
            "data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",
          className
        )}
        {...props}>
        {children}
        <SheetPrimitive.Close
          className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  );
}

function SheetHeader({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sheet-header"
      className={cn("flex flex-col gap-1.5 p-4", className)}
      {...props} />
  );
}

function SheetFooter({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn("mt-auto flex flex-col gap-2 p-4", className)}
      {...props} />
  );
}

function SheetTitle({
  className,
  ...props
}) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn("text-foreground font-semibold", className)}
      {...props} />
  );
}

function SheetDescription({
  className,
  ...props
}) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn("text-muted-foreground text-sm", className)}
      {...props} />
  );
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</file>

<file path="src/components/ui/sidebar.jsx">
"use client";
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva } from "class-variance-authority";
import { PanelLeftIcon } from "lucide-react"
import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import "@/index.css"

import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

const SidebarContext = React.createContext(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

function SidebarProvider({
  defaultOpen = true,
  open: openProp,
  onOpenChange: setOpenProp,
  className,
  style,
  children,
  ...props
}) {
  const isMobile = useIsMobile()
  const [openMobile, setOpenMobile] = React.useState(false)

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen)
  const open = openProp ?? _open
  const setOpen = React.useCallback((value) => {
    const openState = typeof value === "function" ? value(open) : value
    if (setOpenProp) {
      setOpenProp(openState)
    } else {
      _setOpen(openState)
    }

    // This sets the cookie to keep the sidebar state.
    document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
  }, [setOpenProp, open])

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);
  }, [isMobile, setOpen, setOpenMobile])

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event) => {
      if (
        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
        (event.metaKey || event.ctrlKey)
      ) {
        event.preventDefault()
        toggleSidebar()
      }
    }

    window.addEventListener("keydown", handleKeyDown)
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [toggleSidebar])

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed"

  const contextValue = React.useMemo(() => ({
    state,
    open,
    setOpen,
    isMobile,
    openMobile,
    setOpenMobile,
    toggleSidebar,
  }), [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar])

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          data-slot="sidebar-wrapper"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style
            }
          }
          className={cn(
            "group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",
            className
          )}
          {...props}>
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  );
}

function Sidebar({
  side = "left",
  variant = "sidebar",
  collapsible = "offcanvas",
  className,
  children,
  ...props
}) {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

  if (collapsible === "none") {
    return (
      <div
        data-slot="sidebar"
        className={cn(
          "bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",
          className
        )}
        {...props}>
        {children}
      </div>
    );
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-slot="sidebar"
          data-mobile="true"
          className="bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE
            }
          }
          side={side}>
          <SheetHeader className="sr-only">
            <SheetTitle>Sidebar</SheetTitle>
            <SheetDescription>Displays the mobile sidebar.</SheetDescription>
          </SheetHeader>
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    );
  }

  return (
    <div
      className="group peer text-sidebar-foreground hidden md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
      data-slot="sidebar">
      {/* This is what handles the sidebar gap on desktop */}
      <div
        data-slot="sidebar-gap"
        className={cn(
          "relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon)"
        )} />
      <div
        data-slot="sidebar-container"
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]"
            : "group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className
        )}
        {...props}>
        <div
          data-sidebar="sidebar"
          data-slot="sidebar-inner"
          className="bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm">
          {children}
        </div>
      </div>
    </div>
  );
}

function SidebarTrigger({
  className,
  onClick,
  ...props
}) {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      data-sidebar="trigger"
      data-slot="sidebar-trigger"
      variant="ghost"
      size="icon"
      className={cn("size-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}>
      <PanelLeftIcon />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  );
}

function SidebarRail({
  className,
  ...props
}) {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      data-sidebar="rail"
      data-slot="sidebar-rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex",
        "in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props} />
  );
}

function SidebarInset({
  className,
  ...props
}) {
  return (
    <main
      data-slot="sidebar-inset"
      className={cn(
        "bg-background relative flex w-full flex-1 flex-col",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",
        className
      )}
      {...props} />
  );
}

function SidebarInput({
  className,
  ...props
}) {
  return (
    <Input
      data-slot="sidebar-input"
      data-sidebar="input"
      className={cn("bg-background h-8 w-full shadow-none", className)}
      {...props} />
  );
}

function SidebarHeader({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sidebar-header"
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props} />
  );
}

function SidebarFooter({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sidebar-footer"
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props} />
  );
}

function SidebarSeparator({
  className,
  ...props
}) {
  return (
    <Separator
      data-slot="sidebar-separator"
      data-sidebar="separator"
      className={cn("bg-sidebar-border mx-2 w-auto", className)}
      {...props} />
  );
}

function SidebarContent({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sidebar-content"
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props} />
  );
}

function SidebarGroup({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sidebar-group"
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props} />
  );
}

function SidebarGroupLabel({
  className,
  asChild = false,
  ...props
}) {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      data-slot="sidebar-group-label"
      data-sidebar="group-label"
      className={cn(
        "text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props} />
  );
}

function SidebarGroupAction({
  className,
  asChild = false,
  ...props
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-group-action"
      data-sidebar="group-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props} />
  );
}

function SidebarGroupContent({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sidebar-group-content"
      data-sidebar="group-content"
      className={cn("w-full text-sm", className)}
      {...props} />
  );
}

function SidebarMenu({
  className,
  ...props
}) {
  return (
    <ul
      data-slot="sidebar-menu"
      data-sidebar="menu"
      className={cn("flex w-full min-w-0 flex-col gap-1", className)}
      {...props} />
  );
}

function SidebarMenuItem({
  className,
  ...props
}) {
  return (
    <li
      data-slot="sidebar-menu-item"
      data-sidebar="menu-item"
      className={cn("group/menu-item relative", className)}
      {...props} />
  );
}

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:p-0!",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

function SidebarMenuButton({
  asChild = false,
  isActive = false,
  variant = "default",
  size = "default",
  tooltip,
  className,
  ...props
}) {
  const Comp = asChild ? Slot : "button"
  const { isMobile, state } = useSidebar()

  const button = (
    <Comp
      data-slot="sidebar-menu-button"
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props} />
  )

  if (!tooltip) {
    return button
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    }
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent
        side="right"
        align="center"
        hidden={state !== "collapsed" || isMobile}
        {...tooltip} />
    </Tooltip>
  );
}

function SidebarMenuAction({
  className,
  asChild = false,
  showOnHover = false,
  ...props
}) {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      data-slot="sidebar-menu-action"
      data-sidebar="menu-action"
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 md:after:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0",
        className
      )}
      {...props} />
  );
}

function SidebarMenuBadge({
  className,
  ...props
}) {
  return (
    <div
      data-slot="sidebar-menu-badge"
      data-sidebar="menu-badge"
      className={cn(
        "text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props} />
  );
}

function SidebarMenuSkeleton({
  className,
  showIcon = false,
  ...props
}) {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`;
  }, [])

  return (
    <div
      data-slot="sidebar-menu-skeleton"
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}>
      {showIcon && (
        <Skeleton className="size-4 rounded-md" data-sidebar="menu-skeleton-icon" />
      )}
      <Skeleton
        className="h-4 max-w-(--skeleton-width) flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width
          }
        } />
    </div>
  );
}

function SidebarMenuSub({
  className,
  ...props
}) {
  return (
    <ul
      data-slot="sidebar-menu-sub"
      data-sidebar="menu-sub"
      className={cn(
        "border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props} />
  );
}

function SidebarMenuSubItem({
  className,
  ...props
}) {
  return (
    <li
      data-slot="sidebar-menu-sub-item"
      data-sidebar="menu-sub-item"
      className={cn("group/menu-sub-item relative", className)}
      {...props} />
  );
}

function SidebarMenuSubButton({
  asChild = false,
  size = "md",
  isActive = false,
  className,
  ...props
}) {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      data-slot="sidebar-menu-sub-button"
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props} />
  );
}

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="src/components/ui/skeleton.jsx">
import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}) {
  return (
    <div
      data-slot="skeleton"
      className={cn("bg-accent animate-pulse rounded-md", className)}
      {...props} />
  );
}

export { Skeleton }
</file>

<file path="src/components/ui/tooltip.jsx">
import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

function TooltipProvider({
  delayDuration = 0,
  ...props
}) {
  return (<TooltipPrimitive.Provider data-slot="tooltip-provider" delayDuration={delayDuration} {...props} />);
}

function Tooltip({
  ...props
}) {
  return (
    <TooltipProvider>
      <TooltipPrimitive.Root data-slot="tooltip" {...props} />
    </TooltipProvider>
  );
}

function TooltipTrigger({
  ...props
}) {
  return <TooltipPrimitive.Trigger data-slot="tooltip-trigger" {...props} />;
}

function TooltipContent({
  className,
  sideOffset = 0,
  children,
  ...props
}) {
  return (
    <TooltipPrimitive.Portal>
      <TooltipPrimitive.Content
        data-slot="tooltip-content"
        sideOffset={sideOffset}
        className={cn(
          "bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",
          className
        )}
        {...props}>
        {children}
        <TooltipPrimitive.Arrow
          className="bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]" />
      </TooltipPrimitive.Content>
    </TooltipPrimitive.Portal>
  );
}

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="src/container/Container.jsx">
export default function Container({children}){
    return (
        <div>
            <h1>Container</h1>
            {children}
            <footer>
                <p>Tes Container Footer</p>
            </footer>
        </div>
    )
}
</file>

<file path="src/homepage/menu.jsx">
import { Link } from "react-router-dom";
import DialogueBox from "@/components/DialogueBox";
import { HeartHandshake, Star, Users, CalendarCheck } from "lucide-react";
import { Card, CardContent } from "@/components/ui/card";

export default function Home(){
    return (
        <div className="flex flex-col w-full">
            {/* 1. HERO SECTION (Gambar Bunga) */}
            <HomeMenu/>

            {/* 2. ABOUT SECTION (Apa itu John Wedding?) */}
            <AboutSection />

            {/* 3. TESTIMONIAL SECTION (Dialogue Box) */}
            <TestimonialSection />
        </div>
    )
}

// === DATA DUMMY TESTIMONI ===
const omori = {
    "Sunny": {
        "name": "Bimo",
        "portrait": "https://lilithdev.neocities.org/headspace/sprites/faces/DKSUNNY.png",
        "text": "enak banget bangke"
    },
    "Basil": {
        "name": "Bimo",
        "portrait": "https://lilithdev.neocities.org/headspace/sprites/faces/FABASIL21.png",
        "text": "Kalo mesen disini aku kecup nih, soalnya terbaik pokoknya"
    }
}

// === KOMPONEN BARU: ABOUT SECTION ===
function AboutSection() {
    const features = [
        {
            icon: <HeartHandshake className="w-8 h-8 text-primary" />,
            title: "Terpercaya",
            desc: "Melayani ratusan pasangan sejak 2015 dengan reputasi bintang lima."
        },
        {
            icon: <Users className="w-8 h-8 text-primary" />,
            title: "Tim Profesional",
            desc: "Didukung oleh tim ahli yang siap mengatur setiap detail acara Anda."
        },
        {
            icon: <CalendarCheck className="w-8 h-8 text-primary" />,
            title: "Tepat Waktu",
            desc: "Manajemen waktu yang presisi agar acara berjalan lancar tanpa hambatan."
        }
    ];

    return (
        <section className="py-20 px-6 bg-background text-foreground">
            <div className="max-w-6xl mx-auto space-y-16">
                
                {/* Intro Text */}
                <div className="text-center space-y-6 max-w-3xl mx-auto">
                    <h2 className="text-3xl md:text-5xl font-serif font-bold text-primary tracking-tight">
                        Apa itu John Wedding?
                    </h2>
                    <div className="w-24 h-1.5 bg-primary/30 mx-auto rounded-full"></div>
                    <p className="text-lg text-muted-foreground leading-relaxed">
                        <span className="font-bold text-primary">John Wedding</span> adalah partner pernikahan impian Anda. 
                        Kami bukan sekadar Wedding Organizer, kami adalah sahabat yang membantu Anda merangkai momen sakral 
                        menjadi kenangan abadi. Dengan sentuhan personal dan desain elegan, kami memastikan hari bahagia Anda 
                        berjalan sempurna.
                    </p>
                </div>

                {/* Feature Cards */}
                <div className="grid md:grid-cols-3 gap-8">
                    {features.map((feature, idx) => (
                        <Card key={idx} className="bg-card border-primary/20 hover:border-primary transition-all duration-300 shadow-sm hover:shadow-md group">
                            <CardContent className="p-8 flex flex-col items-center text-center gap-4">
                                <div className="p-4 bg-primary/10 rounded-full group-hover:bg-primary group-hover:text-white transition-colors duration-300">
                                    {feature.icon}
                                </div>
                                <h3 className="font-serif text-xl font-bold text-foreground">{feature.title}</h3>
                                <p className="text-muted-foreground text-sm leading-relaxed">{feature.desc}</p>
                            </CardContent>
                        </Card>
                    ))}
                </div>

            </div>
        </section>
    )
}

// === KOMPONEN BARU: TESTIMONIAL SECTION ===
function TestimonialSection() {
    return (
        <section className="py-20 px-6 bg-muted/30 border-t border-border">
            <div className="max-w-4xl mx-auto flex flex-col gap-10">
                
                <div className="text-center space-y-2">
                    <div className="flex justify-center gap-1 mb-2">
                        {[1,2,3,4,5].map((i) => <Star key={i} className="w-5 h-5 text-primary fill-primary" />)}
                    </div>
                    <h2 className="text-3xl md:text-4xl font-serif font-bold text-primary">
                        Kata Pelanggan Kami
                    </h2>
                    <p className="text-muted-foreground">Cerita bahagia dari mereka yang telah kami bantu.</p>
                </div>

                {/* Menggunakan DialogueBox (Unsur yang diminta tetap ada) */}
                <div className="space-y-6">
                    <DialogueBox character={omori.Basil}/>
                </div>

            </div>
        </section>
    )
}

// === COMPONENT HERO (TETAP SAMA SEPERTI SEBELUMNYA) ===
function HomeMenu(){
    return (
        <div className="relative w-full h-[100vh] bg-cover bg-center bg-no-repeat flex items-center justify-center" style={{ backgroundImage: "url('/images/bunga.jpg')" }}>
            {/* Overlay */}
            <div className="absolute inset-0 bg-black/20"></div>

                {/* Box Container */}
                <div className="relative z-10 w-[90%] max-w-md mx-auto shadow-2xl p-2 md:p-3 rounded-xl" style={{ backgroundColor: "#c0a080" }}>
                    <div className="border-2 rounded-lg border-white/50 p-8 md:p-10 flex flex-col items-center justify-center text-center">
                        <h1 className="text-white text-3xl md:text-4xl font-bold mb-3 font-serif tracking-wide drop-shadow-md">
                            John Wedding
                        </h1>
                        <p className="text-white/90 text-sm md:text-base mb-10 leading-relaxed font-light">
                            Wujudkan pernikahan impian Anda dengan sentuhan elegan dan profesional.
                        </p>
                        
                        <Link to="/paket" className="group">
                            <div className="bg-white/20 hover:bg-white/30 active:scale-95 transition-all px-8 py-3 rounded-full backdrop-blur-md cursor-pointer border border-white/40 shadow-lg group-hover:shadow-white/20">
                                <span className="text-white font-bold tracking-wider text-sm uppercase">Lihat Paket</span>
                            </div>   
                        </Link>

                    </div>             
                </div>
        </div>
    )
}
</file>

<file path="src/hooks/use-mobile.js">
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange);
  }, [])

  return !!isMobile
}
</file>

<file path="src/index.css">
@import "tailwindcss";
@plugin "tailwindcss-animate";

/* Paksa deteksi file agar Tailwind membaca class di JSX */
@source "../index.html";
@source "./**/*.{js,jsx,ts,tsx}";

@custom-variant dark (&:is(.dark *));

/* === TEMA COFFEE (PERMANEN DI ROOT) === */
:root {
  /* BACKGROUND: Hitam Kecoklatan (Coffee Dark) */
  --background: #2d2621;
  --foreground: #ece5d8;

  --card: #3a322c;
  --card-foreground: #ece5d8;

  --popover: #3a322c;
  --popover-foreground: #ece5d8;

  /* PRIMARY: Warna Emas/Krem (Tombol Utama) */
  --primary: #c0a080;
  --primary-foreground: #2d2621;

  /* SECONDARY: Coklat Tua (Tombol Kedua) */
  --secondary: #4a4039;
  --secondary-foreground: #ece5d8;

  --muted: #312b26;
  --muted-foreground: #c5bcac;

  --accent: #59493e;
  --accent-foreground: #ece5d8;

  --destructive: #b54a35;
  --destructive-foreground: #ffffff;

  --border: #4a4039;
  --input: #4a4039;
  --ring: #c0a080;

  /* CHART COLORS (Opsional) */
  --chart-1: #c0a080;
  --chart-2: #b3906f;
  --chart-3: #a67c52;
  --chart-4: #8d6e4c;
  --chart-5: #735a3a;

  /* SIDEBAR: Coffee Dark */
  --sidebar-background: #2d2621;
  --sidebar-foreground: #ece5d8;
  --sidebar-primary: #c0a080;
  --sidebar-primary-foreground: #2d2621;
  --sidebar-accent: #59493e;
  --sidebar-accent-foreground: #ece5d8;
  --sidebar-border: #4a4039;
  --sidebar-ring: #c0a080;

  --radius: 0.5rem;
}

/* MAPPING VARIABEL KE TAILWIND V4 */
@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-sidebar: var(--sidebar-background);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
</file>

<file path="src/keranjang/keranjang.jsx">
import React, { useState, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import { Trash2, Package, CreditCard, AlertCircle, ShoppingBag } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import {
  Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogClose
} from "@/components/ui/dialog";

export default function Keranjang() {
  const navigate = useNavigate();
  const [cartItems, setCartItems] = useState([]);
  const [isConfirmOpen, setIsConfirmOpen] = useState(false);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    const savedCart = JSON.parse(localStorage.getItem("cart") || "[]");
    setCartItems(savedCart);
  }, []);

  const handleDelete = (idToDelete) => {
    const updatedCart = cartItems.filter((item) => item.id !== idToDelete);
    setCartItems(updatedCart);
    localStorage.setItem("cart", JSON.stringify(updatedCart));
  };

  const calculateTotal = () => {
    const subtotal = cartItems.reduce((acc, item) => {
        const extrasList = item.extras?.detail || item.extras || [];
        const extrasTotal = extrasList.reduce((sum, extra) => sum + extra.price, 0);
        return acc + item.basePrice + extrasTotal;
    }, 0);
    return { subtotal, tax: subtotal * 0.11, total: subtotal * 1.11 };
  };

  const { subtotal, tax, total } = calculateTotal();
  const fmt = (num) => new Intl.NumberFormat("id-ID", { style: "currency", currency: "IDR" }).format(num);

  const handleInitCheckout = () => {
    const user = localStorage.getItem("user");
    if (!user) {
        alert("Silakan Login dulu!");
        navigate("/login");
        return;
    }
    setIsConfirmOpen(true);
  };

  const processOrder = async () => {
    setLoading(true);
    const user = JSON.parse(localStorage.getItem("user"));
    const orderData = {
        userId: user.id,
        total: total,
        items: cartItems.map(item => ({
            packageId: item.packageId,
            price: item.basePrice,
            extras: { detail: item.extras }
        }))
    };

    try {
        const res = await fetch(`${import.meta.env.VITE_API_URL}/api/orders`, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(orderData)
        });
        const result = await res.json();
        if (result.success) {
            localStorage.removeItem("cart");
            setCartItems([]);
            setIsConfirmOpen(false);
            alert(`Sukses! Order ID: ${result.orderId}`);
            navigate("/");
        } else {
            alert("Gagal: " + result.message);
        }
    } catch (e) {
        alert("Error koneksi server");
    } finally {
        setLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-background text-foreground pt-32 pb-20 px-4 md:px-8">
      <div className="max-w-6xl mx-auto grid md:grid-cols-3 gap-8">
        
        {/* === KOLOM KIRI: LIST BARANG === */}
        <div className="md:col-span-2 space-y-6">
          <div className="flex items-center gap-3 mb-6">
            <ShoppingBag className="w-8 h-8 text-primary" />
            <h1 className="text-3xl font-serif font-bold text-foreground">Keranjang Anda</h1>
          </div>

          {cartItems.length > 0 ? (
            cartItems.map((item) => (
              <Card key={item.id} className="group flex flex-col sm:flex-row overflow-hidden border-border bg-card hover:border-primary/50 transition-all">
                
                {/* 1. Gambar (Ukuran tetap agar rapi) */}
                <div className="w-full sm:w-48 h-48 bg-muted shrink-0">
                  <img src={item.image} alt={item.name} className="w-full h-full object-cover" 
                       onError={(e) => e.target.src = "https://placehold.co/400"} />
                </div>
                
                {/* 2. Konten */}
                <div className="flex-1 p-5 flex flex-col justify-between">
                  <div>
                    <div className="flex justify-between items-start gap-4">
                        <h3 className="text-lg font-bold font-serif text-primary leading-tight">{item.name}</h3>
                        <span className="font-bold text-foreground whitespace-nowrap">{fmt(item.basePrice)}</span>
                    </div>
                    
                    {/* List Extras */}
                    {(item.extras?.length > 0 || item.extras?.detail?.length > 0) && (
                        <div className="mt-3 text-sm text-muted-foreground bg-muted/30 p-2 rounded border border-border/50">
                            <p className="font-semibold text-xs uppercase tracking-wider mb-1 opacity-70">Add-ons:</p>
                            {(item.extras.detail || item.extras).map((ex, idx) => (
                                <div key={idx} className="flex justify-between text-xs sm:text-sm">
                                    <span>+ {ex.name}</span>
                                    <span>{fmt(ex.price)}</span>
                                </div>
                            ))}
                        </div>
                    )}
                  </div>

                  {/* 3. Tombol Action (Dirombak CSS-nya agar jelas) */}
                  <div className="flex justify-end mt-4 pt-4 border-t border-border/40">
                    <Button 
                        variant="destructive" 
                        size="sm" 
                        className="hover:bg-red-600 transition-colors cursor-pointer z-10"
                        onClick={() => handleDelete(item.id)}
                    >
                        <Trash2 className="w-4 h-4 mr-2" /> Hapus Item
                    </Button>
                  </div>
                </div>
              </Card>
            ))
          ) : (
            <div className="text-center py-20 border-2 border-dashed border-border rounded-xl bg-card/30">
                <p className="text-muted-foreground mb-4">Keranjang kosong, ayo pilih paket dulu.</p>
                <Button onClick={() => navigate("/paket")}>Lihat Paket</Button>
            </div>
          )}
        </div>

        {/* === KOLOM KANAN: RINGKASAN HARGA (Sticky) === */}
        <div className="md:col-span-1">
            <Card className="sticky top-32 border-primary bg-card shadow-xl z-20">
                <CardHeader className="bg-primary/10 border-b border-primary/10 pb-4">
                    <CardTitle className="text-primary font-serif">Rincian Biaya</CardTitle>
                </CardHeader>
                <CardContent className="space-y-3 pt-6">
                    <div className="flex justify-between text-sm">
                        <span className="text-muted-foreground">Subtotal</span>
                        <span>{fmt(subtotal)}</span>
                    </div>
                    <div className="flex justify-between text-sm">
                        <span className="text-muted-foreground">Pajak (11%)</span>
                        <span>{fmt(tax)}</span>
                    </div>
                    <Separator className="my-2 bg-border" />
                    <div className="flex justify-between items-center">
                        <span className="font-bold text-lg">Total Bayar</span>
                        <span className="font-bold text-xl text-primary">{fmt(total)}</span>
                    </div>
                </CardContent>
                <CardFooter className="pb-6">
                    <Button 
                        onClick={handleInitCheckout} 
                        disabled={cartItems.length === 0}
                        className="w-full h-12 text-lg font-bold bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg"
                    >
                        <CreditCard className="w-5 h-5 mr-2" /> Checkout
                    </Button>
                </CardFooter>
            </Card>
        </div>
      </div>

      {/* DIALOG KONFIRMASI */}
      <Dialog open={isConfirmOpen} onOpenChange={setIsConfirmOpen}>
        <DialogContent className="sm:max-w-md bg-card border-primary/20">
          <DialogHeader>
            <DialogTitle className="text-primary">Konfirmasi Checkout</DialogTitle>
            <DialogDescription>
              Total tagihan Anda adalah <span className="font-bold text-foreground">{fmt(total)}</span>. Lanjutkan?
            </DialogDescription>
          </DialogHeader>
          <DialogFooter className="gap-2">
            <DialogClose asChild><Button variant="outline">Batal</Button></DialogClose>
            <Button onClick={processOrder} disabled={loading}>
                {loading ? "Memproses..." : "Ya, Bayar"}
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </div>
  );
}
</file>

<file path="src/lib/utils.js">
import { clsx } from "clsx";
import { twMerge } from "tailwind-merge"

export function cn(...inputs) {
  return twMerge(clsx(inputs));
}
</file>

<file path="src/login/login.jsx">
import React, { useState } from "react";
import { Link, useNavigate } from "react-router-dom";
import { HeartHandshake, Mail, Lock, ArrowRight, AlertCircle, Loader2 } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";

export default function Login() {
  const navigate = useNavigate();
  const [formData, setFormData] = useState({ email: "", password: "" });
  const [loading, setLoading] = useState(false);
  const [errorMessage, setErrorMessage] = useState(""); // State untuk pesan error

  const handleChange = (e) => {
    setFormData({ ...formData, [e.target.id]: e.target.value });
    setErrorMessage(""); // Hapus error saat user mengetik ulang
  };

  const handleLogin = async () => {
    // Validasi kosong
    if (!formData.email || !formData.password) {
        setErrorMessage("Email dan Password harus diisi!");
        return;
    }

    setLoading(true);
    setErrorMessage("");

    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api/login`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData),
      });
      
      const result = await res.json();

// ... di dalam handleLogin ...

      if (result.success) {
        // Simpan User
        localStorage.setItem("user", JSON.stringify(result.user));
        
        alert(`Login Berhasil! Selamat datang, ${result.user.name}`);
        
        if (result.user.role === "admin") {
            window.location.href = "/admin";
        } else {
            window.location.href = "/"; 
        }
        
      } else {
        setErrorMessage(result.message || "Login gagal.");
      }
    } catch (err) {
      console.error(err);
      setErrorMessage("Gagal terhubung ke server backend. Pastikan server nyala!");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen w-full flex items-center justify-center bg-background p-4 relative overflow-hidden">
      <Card className="w-full max-w-md border-primary/30 bg-card/90 backdrop-blur-sm shadow-2xl z-10">
        <CardHeader className="space-y-1 text-center">
          <div className="flex justify-center mb-4">
            <div className="p-3 bg-primary/10 rounded-full">
                <HeartHandshake className="w-10 h-10 text-primary" />
            </div>
          </div>
          <CardTitle className="text-2xl font-serif font-bold text-primary">Selamat Datang Kembali</CardTitle>
          <CardDescription>Masuk untuk melihat pesanan wedding Anda</CardDescription>
        </CardHeader>
        
        <CardContent className="space-y-4">
          {/* NOTIFIKASI ERROR (Merah) */}
          {errorMessage && (
            <div className="flex items-center gap-2 p-3 text-sm text-red-500 bg-red-500/10 border border-red-500/20 rounded-md">
                <AlertCircle className="w-4 h-4" />
                <span>{errorMessage}</span>
            </div>
          )}

          <div className="space-y-2">
            <Label htmlFor="email">Email</Label>
            <div className="relative">
                <Mail className="absolute left-3 top-2.5 h-4 w-4 text-muted-foreground" />
                <Input 
                    id="email" 
                    type="email" 
                    value={formData.email} 
                    onChange={handleChange} 
                    placeholder="nama@email.com" 
                    className="pl-10 border-primary/20 focus-visible:ring-primary" 
                />
            </div>
          </div>
          
          <div className="space-y-2">
            <div className="flex items-center justify-between">
                <Label htmlFor="password">Password</Label>
            </div>
            <div className="relative">
                <Lock className="absolute left-3 top-2.5 h-4 w-4 text-muted-foreground" />
                <Input 
                    id="password" 
                    type="password" 
                    value={formData.password} 
                    onChange={handleChange} 
                    placeholder="" 
                    className="pl-10 border-primary/20 focus-visible:ring-primary" 
                />
            </div>
          </div>

          <Button onClick={handleLogin} disabled={loading} className="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-bold h-11">
            {loading ? (
                <><Loader2 className="mr-2 h-4 w-4 animate-spin" /> Memproses...</>
            ) : (
                <>Masuk <ArrowRight className="ml-2 w-4 h-4" /></>
            )}
          </Button>
        </CardContent>
        
        <CardFooter className="flex justify-center">
          <p className="text-sm text-muted-foreground">
            Belum punya akun? <Link to="/register" className="text-primary font-bold hover:underline">Daftar Sekarang</Link>
          </p>
        </CardFooter>
      </Card>
    </div>
  );
}
</file>

<file path="src/login/register/Register.jsx">
import React, { useState } from "react";
import { Link, useNavigate } from "react-router-dom"; // Tambah useNavigate untuk redirect
import { HeartHandshake, Mail, Lock, User, ArrowRight } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from "@/components/ui/card";

export default function Register() {
  const navigate = useNavigate();
  // 1. STATE: Untuk menampung inputan user
  const [formData, setFormData] = useState({
    name: "",
    email: "",
    password: ""
  });
  const [loading, setLoading] = useState(false);

  // 2. HANDLER: Mengubah state saat user mengetik
  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.id]: e.target.value
    });
  };

  // 3. FUNGSI SUBMIT: Mengirim data ke Backend
  const handleRegister = async () => {
    // Validasi sederhana
    if (!formData.name || !formData.email || !formData.password) {
      alert("Mohon isi semua data!");
      return;
    }

    setLoading(true);
    try {
      // Kirim ke Backend (Pastikan backend jalan di port 3000)
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api/register`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData),
      });

      const result = await res.json();

      if (result.success) {
        alert("Registrasi Berhasil! Silakan Login.");
        navigate("/login"); // Pindah ke halaman login
      } else {
        alert("Gagal: " + result.message);
      }
    } catch (err) {
      console.error(err);
      alert("Terjadi kesalahan koneksi ke server");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen w-full flex items-center justify-center bg-background p-4 relative overflow-hidden">
      
      {/* Dekorasi Background */}
      <div className="absolute top-[-10%] right-[-10%] w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl pointer-events-none" />
      <div className="absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl pointer-events-none" />

      <Card className="w-full max-w-md border-primary/30 bg-card/90 backdrop-blur-sm shadow-2xl">
        <CardHeader className="space-y-1 text-center">
          <div className="flex justify-center mb-4">
            <div className="p-3 bg-primary/10 rounded-full">
                <HeartHandshake className="w-10 h-10 text-primary" />
            </div>
          </div>
          <CardTitle className="text-2xl font-serif font-bold text-primary">Buat Akun Baru</CardTitle>
          <CardDescription>
            Bergabunglah untuk merencanakan pernikahan impian
          </CardDescription>
        </CardHeader>
        
        <CardContent className="space-y-4">
          
          {/* Input Nama */}
          <div className="space-y-2">
            <Label htmlFor="name">Nama Lengkap</Label>
            <div className="relative">
                <User className="absolute left-3 top-2.5 h-4 w-4 text-muted-foreground" />
                <Input 
                  id="name" 
                  placeholder="John Doe" 
                  className="pl-10 border-primary/20 focus-visible:ring-primary"
                  // Integrasi State
                  value={formData.name}
                  onChange={handleChange}
                />
            </div>
          </div>

          {/* Input Email */}
          <div className="space-y-2">
            <Label htmlFor="email">Email</Label>
            <div className="relative">
                <Mail className="absolute left-3 top-2.5 h-4 w-4 text-muted-foreground" />
                <Input 
                  id="email" 
                  type="email" 
                  placeholder="nama@email.com" 
                  className="pl-10 border-primary/20 focus-visible:ring-primary"
                  // Integrasi State
                  value={formData.email}
                  onChange={handleChange}
                />
            </div>
          </div>
          
          {/* Input Password */}
          <div className="space-y-2">
            <Label htmlFor="password">Password</Label>
            <div className="relative">
                <Lock className="absolute left-3 top-2.5 h-4 w-4 text-muted-foreground" />
                <Input 
                  id="password" 
                  type="password" 
                  placeholder="" 
                  className="pl-10 border-primary/20 focus-visible:ring-primary"
                  // Integrasi State
                  value={formData.password}
                  onChange={handleChange}
                />
            </div>
          </div>

          <Button 
            className="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-bold h-11 mt-2"
            onClick={handleRegister} // Panggil fungsi saat diklik
            disabled={loading} // Matikan tombol saat loading
          >
            {loading ? "Memproses..." : "Daftar Sekarang"}
            {!loading && <ArrowRight className="ml-2 w-4 h-4" />}
          </Button>
        </CardContent>
        
        <CardFooter className="flex justify-center">
          <p className="text-sm text-muted-foreground">
            Sudah punya akun?{" "}
            <Link to="/login" className="text-primary font-bold hover:underline">
              Masuk disini
            </Link>
          </p>
        </CardFooter>
      </Card>
    </div>
  );
}
</file>

<file path="src/main.jsx">
import './index.css' 
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
</file>

<file path="src/paket/paket.jsx">
"use client";
import React, { useState, useEffect } from "react";
import { Check, Armchair, Table2, Plus, Minus, Info, AlertTriangle } from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle,
} from "@/components/ui/card";
import {
  Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger, DialogClose
} from "@/components/ui/dialog";
import { Label } from "@/components/ui/label";

export default function Paket() {
  const [packages, setPackages] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    fetchPackages();
  }, []);

  const fetchPackages = async () => {
    setLoading(true);
    try {
      //nyambungin ke cloudflare
      const response = await fetch(`${import.meta.env.VITE_API_URL}/api/packages`);
      if (!response.ok) {
        throw new Error(`Server error: ${response.status}`);
      }
      const result = await response.json();
      
      if (result.success && Array.isArray(result.data)) {
        setPackages(result.data);
        setError(null);
      } else {
        setError("Format data dari server tidak sesuai.");
      }
    } catch (err) {
      console.error(err);
      setError("Gagal mengambil data. Pastikan Backend (Server) sudah dijalankan.");
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-background text-foreground">
      <div className="pt-32 p-4 md:p-8 space-y-12 pb-20 max-w-7xl mx-auto">
        <div className="text-center space-y-4">
          <h1 className="text-3xl md:text-5xl font-bold text-primary font-serif tracking-tight">
            Pilihan Paket Spesial
          </h1>
          <p className="text-muted-foreground max-w-2xl mx-auto">
            Pilih paket impianmu untuk hari bahagia.
          </p>
        </div>

        {/* HANDLING STATE: LOADING & ERROR */}
        {loading && (
             <div className="text-center py-20">Loading...</div>
        )}

        {error && (
            <div className="flex flex-col items-center justify-center py-10 gap-4 text-red-500 bg-red-500/10 rounded-xl border border-red-500/20">
                <AlertTriangle className="w-10 h-10" />
                <p className="font-bold">{error}</p>
                <Button variant="outline" onClick={fetchPackages}>Coba Lagi</Button>
            </div>
        )}

        {/* RENDER PAKET */}
        {!loading && !error && (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {packages.map((pkg) => (
                    <PackageCard key={pkg.id} data={pkg} />
                ))}
            </div>
        )}
      </div>
    </div>
  );
}

// Komponen PackageCard tetap sama 
function PackageCard({ data }) {
  const [chairs, setChairs] = useState(0);
  const [tables, setTables] = useState(0);

  // Fallback jika features null/undefined
  const featureString = data.features || "";
  const featureList = featureString.split(','); 

  const handleAddToCart = () => {
    const cartItem = {
        id: Date.now(), 
        packageId: data.id,
        name: data.name,
        image: data.image,
        basePrice: data.price,
        extras: []
    };
    
    if(chairs > 0) cartItem.extras.push({ name: `Kursi Tamu (${chairs}x)`, price: chairs * 25000 });
    if(tables > 0) cartItem.extras.push({ name: `Meja Bundar (${tables}x)`, price: tables * 100000 });

    const existingCart = JSON.parse(localStorage.getItem("cart") || "[]");
    localStorage.setItem("cart", JSON.stringify([...existingCart, cartItem]));

    alert("Berhasil masuk keranjang!");
    // Paksa reload halaman keranjang jika perlu, atau redirect
    window.location.href = "/keranjang";
  };

  return (
      <Dialog>
        <Card className="flex flex-col h-full border-2 border-muted bg-card hover:border-primary/60 transition-all shadow-sm group">
          <div className="relative h-56 w-full overflow-hidden bg-muted">
             {/* Gunakan gambar placeholder jika error */}
            <img src={data.image} alt={data.name} className="w-full h-full object-cover" 
                 onError={(e) => e.target.src = "https://placehold.co/600x400?text=Paket+Wedding"} />
          </div>
          <CardHeader>
            <CardTitle className="text-xl text-primary font-serif">{data.name}</CardTitle>
            <CardDescription className="line-clamp-2">{data.description}</CardDescription>
          </CardHeader>
          <CardContent className="flex-1 space-y-4">
            <p className="text-2xl font-bold">
                {new Intl.NumberFormat("id-ID", { style: "currency", currency: "IDR" }).format(data.price)}
            </p>
            <ul className="space-y-1">
              {featureList.map((item, idx) => (
                <li key={idx} className="flex items-center gap-2 text-sm text-muted-foreground">
                  <Check className="w-3 h-3 text-primary" /> {item}
                </li>
              ))}
            </ul>
          </CardContent>
          <CardFooter>
            <DialogTrigger asChild>
              <Button className="w-full font-bold bg-primary text-primary-foreground hover:bg-primary/90">Pesan Sekarang</Button>
            </DialogTrigger>
          </CardFooter>
        </Card>

        {/* DIALOG CONTENT SAMA SEPERTI SEBELUMNYA... */}
        <DialogContent className="sm:max-w-[450px] bg-card border-primary/20">
            <DialogHeader>
                <DialogTitle>Kustomisasi {data.name}</DialogTitle>
                <DialogDescription>Tambah item jika diperlukan</DialogDescription>
            </DialogHeader>
            <div className="grid gap-4 py-4">
                 {/* Counter Logic Sama... */}
                 <div className="flex justify-between items-center bg-muted/20 p-2 rounded">
                    <Label>Kursi (Rp 25rb)</Label>
                    <Counter value={chairs} onChange={setChairs}/>
                 </div>
                 <div className="flex justify-between items-center bg-muted/20 p-2 rounded">
                    <Label>Meja (Rp 100rb)</Label>
                    <Counter value={tables} onChange={setTables}/>
                 </div>
            </div>
            <DialogFooter>
                <DialogClose asChild><Button variant="outline">Batal</Button></DialogClose>
                <Button onClick={handleAddToCart}>Masuk Keranjang</Button>
            </DialogFooter>
        </DialogContent>
      </Dialog>
  )
}

function Counter({ value, onChange }) {
    return (
      <div className="flex items-center gap-2">
        <Button variant="outline" size="icon" className="h-8 w-8" onClick={() => onChange(Math.max(0, value - 1))}><Minus className="h-3 w-3" /></Button>
        <span className="w-8 text-center">{value}</span>
        <Button variant="outline" size="icon" className="h-8 w-8" onClick={() => onChange(value + 1)}><Plus className="h-3 w-3" /></Button>
      </div>
    );
}
</file>

<file path="src/table/Row.jsx">
let counter = 0;

export default function Row({id, text}) {
    return (
        <tr>
            <td>{id}</td>
            <td>{text}</td>
        </tr>
    )
}
</file>

<file path="src/table/Tables.jsx">
import Row from "./row.jsx"; 

export default function Tables(){
    return (
        <table border="5">
            <tbody>
                <Row id="1" text="Satu"/>
                <Row id="2"text="Dua"/> 
                <Row id="3" text="Tiga"/>  
            </tbody>
        </table>    
    )
}
</file>

<file path="src/todolist/Todo.jsx">
export default function Todo({text, isCompleted, isDeleted = false}){
    if (isDeleted) {
        return null
    } else {
        return(
            <li>
                {text} {isCompleted && ''}
            </li>
        )
    }
}
/*export default function Todo({text, isCompleted, isDeleted = false}){
    if (isDeleted) {
        return null
    } else {
        return(
            <li>
                {isCompleted ? <del>{text}</del> : text}
            </li>
        )
    }
}*/
/*export default function Todo({text, isCompleted, isDeleted = false}){
    if (isDeleted) {
        return null
    } else if (isCompleted){
        return (
            <li>
                <del>{text}</del>
            </li>
        )
    } else {
        return (
            <li>
                {text}
            </li>
        )
    }
}*/
</file>

<file path="src/todolist/TodoList.jsx">
import Todo from "./Todo.jsx";

export default function Todolist() {
    const data = [
        {
            id: 1,
            text : "Learn HTML",
            isCompleted : true
        },
        {
            id: 2,
            text : "Learn CSS",
            isCompleted : true
        },
        {
            id: 3,
            text : "Learn JavaScript",
            isCompleted : true
        },
        {
            id: 4,
            text : "Learn React",
            isCompleted : false
        }
    ]

    return (
        <ul>
            {data.map((todo) => (
                <Todo key={todo.id} {...todo}/>
            ))}
        </ul>
    )
}
</file>

<file path="vite.config.js">
import path from "path"
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import tailwindcss from '@tailwindcss/vite' //  Wajib import ini

export default defineConfig({
  plugins: [
    react(),
    tailwindcss(), //  Wajib panggil fungsi ini
  ],
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
build: {
  outDir: 'dist',
  }
})
</file>

</files>
